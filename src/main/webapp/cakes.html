<html>
<head>
    <script type="text/javascript" src="/js/jquery-3.1.1.min.js"></script>
    <style>
        img {
            width: 100px;
            height: 100px;
        }
    </style>
</head>
<body>
<h1>Cakes</h1>
<div id="cakes"></div>
<form>
    <label for="title">Title:</label>
    <input id="title" name="title" type="text"/>
    <label for="description">Description:</label>
    <input id="description" name="description" type="text"/>
    <label for="image">Image:</label>
    <input id="image" name="image" type="text"/>
    <input type="submit" value="Add Cake" />
</form>

<script>
    $.ajax({
        beforeSend: function (request) {
            request.setRequestHeader("Accept", 'application/json');
        },
        dataType: "json",
        url: '/cakes',
        success: function (json) {
            $.each(json, function (i, cake) {
                var widget = '<ul><li>' + cake.title + '</li><li>' + cake.description + '</li><li><img src="' + cake.image + '"/></li></ul>';
                $("#cakes").append(widget);
            });
        }
    });
    $('form').submit(function (evt) {
        $.ajax({
            url: '/cakes',
            data: $('form').serialize(),
            processData: false,
            type: 'PUT'
        });
    })
</script>
<noscript>This page requires javascript to be enabled. Please contact Craig J Perry...</noscript>
</body>
</html>
